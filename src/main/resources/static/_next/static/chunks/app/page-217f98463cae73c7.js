(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{43188:function(e,t,n){Promise.resolve().then(n.bind(n,68157))},68157:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o=n(57437),s=n(82075),r=n(14110),c=n(23288),i=n(62575),l=n(85085),a=n(2265),u=n(4527),d=n(2633);function h(){let e=(0,a.useRef)(null),[t,n]=(0,a.useState)([]);(0,a.useEffect)(()=>(console.log("local"),e.current=new WebSocket("ws://localhost:8080/chat"),e.current.addEventListener("open",function(e){console.log("WebSocket is open now.")}),()=>{e.current&&e.current.close()}),[]);let h=(0,l.Fg)();return(0,o.jsxs)("main",{style:{background:h.colorBgLayout,height:"100vh",display:"flex",flexDirection:"row"},children:[(0,o.jsx)(s.j,{helloMessage:"Welcome to Discogs AI chat with David!",placeholder:"Please insert a message to David!",request:async o=>new Promise(s=>{e.current&&(console.log(o[o.length-1].content),e.current.addEventListener("message",function(e){n(t.concat(JSON.parse(e.data).recommendations)),s(new Response(JSON.parse(e.data).message))}),e.current.send(o[o.length-1].content))})}),(0,o.jsx)(r.Z,{type:"vertical",style:{height:"100%"}}),(0,o.jsx)(c.Z,{direction:"vertical",style:{minWidth:"250px",maxWidth:"20vw",display:"flex",justifyContent:"start",flexDirection:"column",alignItems:"center",margin:"20px",overflowY:"scroll"},children:0===t.length?(0,o.jsx)(i.Z,{description:"No recommendations (yet)"}):t.map((e,t)=>(0,o.jsx)(u.Z,{style:{width:200},bordered:!0,cover:(0,o.jsx)("img",{alt:"Cover image of a record",src:e.coverImage,width:200,height:200}),children:(0,o.jsx)(d.Z,{title:e.title,description:e.artist})},t))})]})}}},function(e){e.O(0,[3954,3067,3942,2971,7023,1744],function(){return e(e.s=43188)}),_N_E=e.O()}]);