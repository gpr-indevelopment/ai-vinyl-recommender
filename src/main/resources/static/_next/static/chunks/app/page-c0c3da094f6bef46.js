(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{43188:function(e,t,n){Promise.resolve().then(n.bind(n,68157))},68157:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var s=n(57437),r=n(82075),o=n(14110),i=n(23288),c=n(62575),a=n(85085),l=n(2265),u=n(4527),d=n(2633);function h(){let e=(0,l.useRef)(null),[t,n]=(0,l.useState)([]);(0,l.useEffect)(()=>(e.current=new WebSocket("ws://localhost:8080/chat"),e.current.addEventListener("open",function(e){console.log("WebSocket is open now.")}),()=>{e.current&&e.current.close()}),[]);let h=(0,a.Fg)();return(0,s.jsxs)("main",{style:{background:h.colorBgLayout,height:"100vh",display:"flex",flexDirection:"row"},children:[(0,s.jsx)(r.j,{helloMessage:"Welcome to Discogs AI chat with David!",placeholder:"Please insert a message to David!",request:async s=>new Promise(r=>{e.current&&(e.current.addEventListener("message",function(e){n(t.concat(JSON.parse(e.data).recommendations)),r(new Response(JSON.parse(e.data).message))}),e.current.send(s[s.length-1].content))})}),(0,s.jsx)(o.Z,{type:"vertical",style:{height:"100%"}}),(0,s.jsx)(i.Z,{direction:"vertical",style:{minWidth:"250px",maxWidth:"20vw",display:"flex",justifyContent:"start",flexDirection:"column",alignItems:"center",margin:"20px",overflowY:"scroll"},children:0===t.length?(0,s.jsx)(c.Z,{description:"No recommendations (yet)"}):t.map((e,t)=>(0,s.jsx)(u.Z,{style:{width:200},bordered:!0,cover:(0,s.jsx)("img",{alt:"Cover image of a record",src:e.coverImage,width:200,height:200}),children:(0,s.jsx)(d.Z,{title:e.title,description:e.artist})},t))})]})}}},function(e){e.O(0,[3954,3067,3942,2971,7023,1744],function(){return e(e.s=43188)}),_N_E=e.O()}]);